import{f as v}from"./api-2Ayi6Ok1.js";import{C as m,d as f}from"./CurrenciesList-DkpmHgXk.js";import{_ as P,r,o as S,c as I,a as l,f as _,d as D,e as w}from"./index-Ct2xapwm.js";const d=c=>c.toISOString().split("T")[0],N=["value"],V=10,x={__name:"SearchView",setup(c){const o=r([]),u=r(null),n=r(1),s=r(d(new Date)),i=async a=>{try{u.value=new Date(a);const e=f(u.value),t=localStorage.getItem(e);if(t)o.value=JSON.parse(t),console.log("Дані завантажені з кешу.");else{const p=await v(e);o.value=p,localStorage.setItem(e,JSON.stringify(p)),console.log("Дані завантажені з API.")}n.value=1}catch(e){console.error("Помилка при завантаженні даних:",e)}},g=a=>{console.log("Вибрана дата:",a);const e=new Date(a);s.value=d(e),i(e)};return S(()=>{i(s.value)}),(a,e)=>(w(),I("main",null,[e[3]||(e[3]=l("h2",null,"Офіційний курс гривні щодо іноземних валют 📅",-1)),l("p",null,[e[2]||(e[2]=_(" 🔍 пошук за датою: ")),l("input",{type:"date",value:s.value,onInput:e[0]||(e[0]=t=>g(t.target.value))},null,40,N)]),D(m,{currencies:o.value,currentPage:n.value,itemsPerPage:V,"onUpdate:currentPage":e[1]||(e[1]=t=>n.value=t)},null,8,["currencies","currentPage"])]))}},O=P(x,[["__scopeId","data-v-480c3cd3"]]);export{O as default};
