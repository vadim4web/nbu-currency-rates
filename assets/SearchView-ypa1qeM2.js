import{C as g,d as f}from"./CurrenciesListComponent-6GeP61Jh.js";import{f as D}from"./api-CMS-S_eG.js";import{_ as S,r as n,o as x,c as I,a as l,f as _,d as w,e as C}from"./index-CZyIco_F.js";const u=c=>c.toISOString().split("T")[0],N=["value","max"],P=10,V={__name:"SearchView",setup(c){const o=n([]),p=n(null),r=n(1),s=n(u(new Date)),m=n(u(new Date)),i=async a=>{try{p.value=new Date(a);const e=f(p.value),t=localStorage.getItem(e);if(t)o.value=JSON.parse(t),console.log("Дані завантажені з кешу.");else{const d=await D(e);o.value=d,localStorage.setItem(e,JSON.stringify(d)),console.log("Дані завантажені з API.")}r.value=1}catch(e){console.error("Помилка при завантаженні даних:",e)}},v=a=>{console.log("Вибрана дата:",a);const e=new Date(a);s.value=u(e),i(e)};return x(()=>i(s.value)),(a,e)=>(C(),I("main",null,[e[3]||(e[3]=l("h2",null,"Офіційний курс гривні щодо іноземних валют 📅",-1)),l("p",null,[e[2]||(e[2]=_(" 🔍 пошук за датою: ")),l("input",{type:"date",value:s.value,max:m.value,onInput:e[0]||(e[0]=t=>v(t.target.value))},null,40,N)]),w(g,{currencies:o.value,"current-page":r.value,"items-per-page":P,"onUpdate:currentPage":e[1]||(e[1]=t=>r.value=t)},null,8,["currencies","current-page"])]))}},k=S(V,[["__scopeId","data-v-7199a5b4"]]);export{k as default};
