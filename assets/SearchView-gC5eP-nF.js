import{C as m,d as v}from"./CurrenciesListComponent-CofgLKhd.js";import{f}from"./api-Cf8GUEtp.js";import{_ as S,r as o,o as I,c as _,a as l,f as D,d as w,e as C}from"./index-DTZjh1P-.js";const d=u=>u.toISOString().split("T")[0],N=["value"],P=10,V={__name:"SearchView",setup(u){const n=o([]),c=o(null),r=o(1),s=o(d(new Date)),p=async a=>{try{c.value=new Date(a);const e=v(c.value),t=localStorage.getItem(e);if(t)n.value=JSON.parse(t),console.log("Дані завантажені з кешу.");else{const i=await f(e);n.value=i,localStorage.setItem(e,JSON.stringify(i)),console.log("Дані завантажені з API.")}r.value=1}catch(e){console.error("Помилка при завантаженні даних:",e)}},g=a=>{console.log("Вибрана дата:",a);const e=new Date(a);s.value=d(e),p(e)};return I(()=>p(s.value)),(a,e)=>(C(),_("main",null,[e[3]||(e[3]=l("h2",null,"Офіційний курс гривні щодо іноземних валют 📅",-1)),l("p",null,[e[2]||(e[2]=D(" 🔍 пошук за датою: ")),l("input",{type:"date",value:s.value,onInput:e[0]||(e[0]=t=>g(t.target.value))},null,40,N)]),w(m,{currencies:n.value,"current-page":r.value,"items-per-page":P,"onUpdate:currentPage":e[1]||(e[1]=t=>r.value=t)},null,8,["currencies","current-page"])]))}},O=S(V,[["__scopeId","data-v-0f83af58"]]);export{O as default};
